<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>drawlots.html</title>
	
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    
<script src="jquery-1.7.js" type="text/javascript"></script>
<script>
var aa = new Array();
var bb = new Array();

$(document).ready(function(){
		

		var str = "";
		for(var i = 0; i < aa.length; i++)
		{
			str += aa[i]+"<br>"
			bb[i] = aa[i];
		}
		$("#nr").html(str);
	});

	function chou(arr)
	{
		var num1 = $("#num").val();
		if (num1 == null || num1 == '')
		{
			alert('請入數字');
			return ;
		}


		 if(isNaN(num1))
		 {
			 alert('你輸入的不是數字');
		   	return false;
		  }


		 if (num1 > aa.length)
		 {

			alert('輸入的數字不能超過人數');
			return;
		}


		 var temp_array = new Array();
		    for (var index in aa) {
		        temp_array.push(aa[index]);
		    }
		   
		    var return_array = new Array();
		    for (var i = 0; i<num1; i++) {
		        
		        if (temp_array.length>0) {
		            
		            var arrIndex = Math.floor(Math.random()*temp_array.length);
		           
		            return_array[i] = temp_array[arrIndex];
		           
		            temp_array.splice(arrIndex, 1);
		        } else {
		            
		            break;
		        }
		    }














		  

		    var str1 = "";
		    for(var i = 0; i < return_array.length; i++)
			{
				str1 += return_array[i]+"<br>"
			}
			$("#jg").html(str1);
	}


	function tianjia()
	{
		var name = $("#name").val();
		for(var i = 0; i < aa.length; i++)
		{
			if (aa[i] == name)
			{
				alert('不能添加已存在的姓名');
				return ;
			}
		}
		aa.push(name);
		var str = "";
		for(var i = 0; i < aa.length; i++)
		{
			str += aa[i]+"<br>"
			bb[i] = aa[i];
		}
		$("#nr").html(str);
	}

	

	
</script>
<style>
	.yuanjiao{ 
		font-family: Arial; 
		border: 2px solid #379082; 
		border-radius: 20px; 
		padding: 30px 30px; 
		width: 430px; 
		height:50px;
		margin-top:50px;
		background-color: #71acdf
		}
		
			.yuanjiao1{ 
		font-family: Arial; 
		border: 2px solid #379082; 
		border-radius: 20px; 
		padding: 30px 30px; 
		width: 300px; 
		height:500px;
		margin-top:10px;
		background-color: #f8f9fa;
		}
		body
  {
  background-color:lightyellow;
  }
		
</style> 
	<script>
	
		
		
	</script>
	
  </head>
  
  <body>
	  
	    <center>
    <div class="yuanjiao" style="font-size: 30px;">抽簽程序</div>
    <div style="margin-top: 50px">
    		抽出數量<input name="num" id="num" />
   	</div>
	   <div style="margin-top: 10px">
	   姓名:<input id="name"><input type="button" value="添加" onclick="tianjia();" />	
	   </div>
   	<br><br>
  <span style="">内容</span>
    		<div id="nr" class="yuanjiao1" style="height: 200px;
;border: 2px solid #379082; "></div><br><br>
    		<span >结果</span>
    		<div id="jg" class="yuanjiao1" style="height: 200px;
;border: 2px solid #379082; "></div>
    		<br>
    		<input value="抽簽" type="button" onclick="chou();" />
    		
    		<br><br>
    		    
   </center> 	
   
   
  </body>
</html>
